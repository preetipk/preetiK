<h1 style="color: brown" align="center">Welcome To Train Reservation </h1>


<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular-animate.min.js"></script>
    <script src=https://cdnjs.cloudflare.com/ajax/libs/angular-cookie/4.1.0/angular-cookie.js></script>
    <script src=https://cdnjs.cloudflare.com/ajax/libs/angular-cookie/4.1.0/angular-cookie.min.js></script>
</head>

<body>



    <div class="container">
        <div class="col-sm-8 col-sm-offset-2">

            <form name="userForm" ng-submit="submitForm()" novalidate>
                <!-- EMAIL -->
                <div class="form-group" ng-class="{ 'has-error' : userForm.email.$invalid && (userForm.email.$dirty || submitted)}">
                    <label>User Email</label>
                    <input type="email" name="email" class="form-control" ng-model="email" placeholder="Email" ng-required="true">
                    <span ng-show="userForm.$dirty && userForm.email.$error.required">Email is required field</span>
                    <span ng-show="userForm.$dirty && userForm.email.$invalid">Enter a valid email</span>
                </div>

                <div class="">
                    <div class="form-group">
                        <label>Booking Date</label>
                        <p class="input-group">
                            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="bdate" is-open="popup1.opened" datepicker-options="minDate" ng-required="true" uib-datepicker-popup="MM-dd-yyyy" close-text="Close" alt-input-formats="altInputFormats"
                            />
                            <span class="input-group-btn">
                              <button type="button" class="btn btn-default"   ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                              <span ng-show="userForm.$dirty && userForm.bdate.$error.required">Booking Date is required field</span>
                            <!-- <span ng-show="userForm.$dirty && userForm.bdate.$invalid">Enter a valid e</span> -->
                            </span>
                        </p>
                    </div>

                    <!-- Booking Time -->
                    <div class="form-group" ng-class="{ 'has-error' : userForm.btime.$invalid && (userForm.btime.$dirty || submitted)}">
                        <label>Booking Time</label>
                        <input name="btime" class="form-control" ng-model="btime" placeholder="Booking Time" ng-required="true">
                        <span ng-show="userForm.$dirty && userForm.btime.$error.required">Time is required field</span>
                        <!-- <span ng-show="userForm.$dirty && userForm.btime.$invalid">Enter a valid email</span><br/><br/> -->
                    </div>

                    <!-- Train Number -->
                    <div class="form-group" ng-class="{ 'has-error' : userForm.trainNumber.$invalid && (userForm.trainNumber.$dirty || submitted)}">
                        <label>Train Number</label>
                        <input name="trainNumber" class="form-control" ng-model="trainNumber" placeholder="Train Number" ng-required="true">
                        <span ng-show="userForm.$dirty && userForm.trainNumber.$error.required">Time is required field</span>
                        <!-- <span ng-show="userForm.$dirty && userForm.btime.$invalid">Enter a valid email</span><br/><br/> -->
                    </div>

                    <!-- <button type="submit" ng-disabled="!userForm.$valid" name="update" class="btn btn-primary" value="update" ng-click="updateUser(email, username, address, password)"> -->
                    <button type="submit" ng-disabled="!userForm.$valid" class="btn btn-primary" name="update" value="update" ng-click="bookTrain(trainNumber);confirm()">Book</button>

                    <button type="submit" class="btn btn-primary" ng-click="logout()">Logout</button>
            </form>
            </div>
        </div>


        <div class="col-sm-8 col-sm-offset-2">
            <!-- Default panel contents -->
            <br><br><br>
            <div class="col-sm-8-heading"><span class="lead" align="center">List of Available Trains </span></div>
            <div class="tablecontainer">
                <table class="table table-hover" border=2 layout-margin="20px" margin-right: "1.0">
                    <div>
                        <thead>
                            <tr>
                                <th>train No</th>
                                <th>id</th>
                                <th>Available Seates</th>
                                <th>Arrival Time</th>
                                <th>Departure Time</th>
                                <th colspan="1">Book</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="value in trainlist[0]">
                                <td>{{value.trainNumber}}</td>
                                <td>{{value._id}}</td>
                                <td>{{value.noOfSeats}}</td>
                                <td>{{value.arrivalTime}}</td>
                                <td>{{value.departureTime}}</td>
                                <td>
                                    <a href ng-click="booking(value._id)"><i class="glyphicon glyphicon-registration-mark"></i>Booking</a>
                                </td>

                            </tr>
                        </tbody>
                </table>
                </div>
                <div>
                    <h1><a href="#!/bookingDetails" style="color:black" align="center"><i class="glyphicon glyphicon-forward form-control-feedback"></i></a>Booking Details</h1>
                </div>
            </div>
        </div>
    </div>

</body>

</html>